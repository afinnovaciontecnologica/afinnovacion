
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Finalizar Compra - AF Innovaci贸n Tecnol贸gica</title>

<link rel="stylesheet" href="style.css">

<!-- Fuente Poppins -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

<style>
.form-container{
max-width:600px;
margin:auto;
background:white;
padding:30px;
border-radius:15px;
box-shadow:0 5px 20px rgba(0,0,0,.05);
}

input, select{
width:100%;
padding:10px;
margin-bottom:15px;
border-radius:8px;
border:1px solid #ddd;
}

.error{
color:red;
font-size:14px;
margin-bottom:10px;
}
</style>
</head>

<body>

<!-- TOP BAR -->
<div class="topbar">
<div> Huaraz - Per煤</div>
<div> 948231352</div>
</div>

<!-- HEADER -->
<header>
<div class="logo">AF INNOVACIN TECNOLGICA</div>
<nav>
<a href="index.html">Inicio</a>
<a href="tienda.html">Tienda</a>
<a href="carrito.html">Carrito</a>
<a href="blog.html">Blog</a>
</nav>
</header>

<section class="section">
<h2>Finalizar Pedido</h2>

<div class="form-container">

<div id="errorMsg" class="error"></div>

<input type="text" id="nombre" placeholder="Nombre completo">
<input type="text" id="telefono" placeholder="Tel茅fono">
<input type="text" id="direccion" placeholder="Direcci贸n">

<select id="pago">
<option value="">Seleccionar m茅todo de pago</option>
<option>Yape</option>
<option>Plin</option>
<option>Transferencia</option>
<option>Contraentrega</option>
</select>

<button onclick="finalizarPedido()">Confirmar Pedido</button>

</div>
</section>

<footer>
AF Innovaci贸n Tecnol贸gica - Huaraz<br>
Especialistas en computadoras, impresoras y soporte t茅cnico
</footer>

<script>
function finalizarPedido(){

let nombre = document.getElementById("nombre").value.trim();
let telefono = document.getElementById("telefono").value.trim();
let direccion = document.getElementById("direccion").value.trim();
let pago = document.getElementById("pago").value;
let error = document.getElementById("errorMsg");

error.innerHTML = "";

if(nombre === "" || telefono === "" || direccion === "" || pago === ""){
error.innerHTML = "锔 Complete todos los campos.";
return;
}

let cart = JSON.parse(localStorage.getItem("cart")) || [];

if(cart.length === 0){
error.innerHTML = "锔 El carrito est谩 vac铆o.";
return;
}

let total = 0;
let productos = "";

cart.forEach(item=>{
productos += "- " + item.name + " S/ " + item.price + "\n";
total += item.price;
});

let mensaje =
"Hola AF Innovaci贸n Tecnol贸gica\n" +
"Cliente: " + nombre + "\n" +
"Tel茅fono: " + telefono + "\n" +
"Direcci贸n: " + direccion + "\n" +
"Pago: " + pago + "\n\n" +
"Productos:\n" + productos +
"\nTotal: S/ " + total;

let url = "https://wa.me/51948231352?text=" + encodeURIComponent(mensaje);

window.open(url);

localStorage.removeItem("cart");
}
</script>

</body>
</html>

